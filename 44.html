<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Audio Analyzer V4 ‚Äî VW Up! TSI 2017</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        :root {
            --bg: #0a0a0f;
            --card: #12121a;
            --card2: #1a1a28;
            --border: #2a2a3a;
            --accent: #6c5ce7;
            --accent2: #a29bfe;
            --green: #00b894;
            --orange: #fdcb6e;
            --red: #e17055;
            --cyan: #81ecec;
            --pink: #fd79a8;
            --text: #e0e0e0;
            --text2: #a0a0b0;
            --gold: #f9ca24
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden
        }

        .header {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1040 50%, #0a0a1a 100%);
            padding: 30px 40px;
            border-bottom: 1px solid var(--border);
            text-align: center
        }

        .header h1 {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent2), var(--cyan));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 6px
        }

        .header p {
            color: var(--text2);
            font-size: 14px;
            font-weight: 300
        }

        .header .car-badge {
            display: inline-block;
            background: var(--card2);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 4px 16px;
            font-size: 12px;
            color: var(--accent2);
            margin-top: 8px
        }

        .header .version {
            font-size: 10px;
            color: var(--green);
            margin-top: 4px;
            letter-spacing: 1px
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px
        }

        .grid2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px
        }

        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 20px;
            position: relative;
            overflow: hidden
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent)
        }

        .card h2 {
            font-size: 15px;
            font-weight: 700;
            color: var(--accent2);
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 8px
        }

        .card h2 .icon {
            font-size: 18px
        }

        .card h3 {
            font-size: 13px;
            font-weight: 600;
            color: var(--text2);
            margin: 12px 0 8px;
            text-transform: uppercase;
            letter-spacing: 1px
        }

        .chart-wrap {
            position: relative;
            height: 320px;
            margin: 10px 0
        }

        .chart-wrap.tall {
            height: 420px
        }

        .slider-group {
            margin: 8px 0
        }

        .slider-group label {
            font-size: 12px;
            color: var(--text2);
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px
        }

        .slider-group label span {
            color: var(--accent2);
            font-weight: 600
        }

        input[type=range] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--card2);
            outline: none;
            border: 1px solid var(--border)
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(108, 92, 231, .5)
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px
        }

        .stat {
            background: var(--card2);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            border: 1px solid var(--border)
        }

        .stat .val {
            font-size: 22px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent2), var(--cyan));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent
        }

        .stat .lbl {
            font-size: 10px;
            color: var(--text2);
            margin-top: 2px;
            text-transform: uppercase;
            letter-spacing: .5px
        }

        .tip {
            background: var(--card2);
            border-left: 3px solid var(--accent);
            border-radius: 0 8px 8px 0;
            padding: 10px 14px;
            font-size: 12px;
            color: var(--text2);
            margin: 10px 0;
            line-height: 1.6
        }

        .tip strong {
            color: var(--green)
        }

        .tip.warn {
            border-left-color: var(--orange)
        }

        .tip.warn strong {
            color: var(--orange)
        }

        .badge {
            display: inline-block;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600
        }

        .badge.on {
            background: rgba(0, 184, 148, .15);
            color: var(--green);
            border: 1px solid rgba(0, 184, 148, .3)
        }

        .badge.off {
            background: rgba(225, 112, 85, .15);
            color: var(--red);
            border: 1px solid rgba(225, 112, 85, .3)
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
            margin: 8px 0
        }

        table th {
            text-align: left;
            color: var(--text2);
            font-weight: 600;
            padding: 8px;
            border-bottom: 1px solid var(--border);
            text-transform: uppercase;
            font-size: 10px;
            letter-spacing: .5px
        }

        table td {
            padding: 8px;
            border-bottom: 1px solid rgba(42, 42, 58, .5);
            color: var(--text)
        }

        table tr:hover td {
            background: rgba(108, 92, 231, .05)
        }

        .config-summary {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px
        }

        .config-item {
            background: var(--card2);
            border-radius: 10px;
            padding: 14px;
            border: 1px solid var(--border)
        }

        .config-item .title {
            font-size: 11px;
            color: var(--text2);
            text-transform: uppercase;
            letter-spacing: .5px;
            margin-bottom: 6px
        }

        .config-item .value {
            font-size: 16px;
            font-weight: 700;
            color: var(--accent2)
        }

        .config-item .detail {
            font-size: 11px;
            color: var(--text2);
            margin-top: 4px
        }

        .legend-custom {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 8px 0;
            font-size: 11px
        }

        .legend-custom .item {
            display: flex;
            align-items: center;
            gap: 4px
        }

        .legend-custom .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%
        }

        .eq-3band {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 16px;
            margin: 16px 0
        }

        .eq-knob {
            background: var(--card2);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid var(--border)
        }

        .eq-knob .band-name {
            font-size: 14px;
            font-weight: 700;
            color: var(--accent2);
            margin-bottom: 4px
        }

        .eq-knob .band-range {
            font-size: 10px;
            color: var(--text2);
            margin-bottom: 10px
        }

        .eq-knob .band-value {
            font-size: 24px;
            font-weight: 800;
            color: var(--cyan);
            margin: 8px 0
        }

        .eq-knob .band-reason {
            font-size: 11px;
            color: var(--text2);
            margin-top: 8px;
            line-height: 1.4
        }

        /* V4 Preset Tabs */
        .preset-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 14px;
            flex-wrap: wrap
        }

        .preset-btn {
            padding: 8px 16px;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: var(--card2);
            color: var(--text2);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all .2s;
            font-family: 'Inter', sans-serif
        }

        .preset-btn:hover {
            border-color: var(--accent);
            color: var(--accent2)
        }

        .preset-btn.active {
            background: rgba(108, 92, 231, .2);
            border-color: var(--accent);
            color: var(--accent2);
            box-shadow: 0 0 12px rgba(108, 92, 231, .3)
        }

        .preset-btn .emoji {
            margin-right: 4px
        }

        .visor-display {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--card2);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 4px 12px;
            font-size: 18px;
            font-weight: 800;
            color: var(--green);
            font-family: 'Courier New', monospace;
            min-width: 60px;
            justify-content: center
        }

        @media(max-width:900px) {
            .grid2 {
                grid-template-columns: 1fr
            }

            .eq-3band {
                grid-template-columns: 1fr
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>üîä Car Audio Frequency Analyzer</h1>
        <p>Configura√ß√£o Hi-Fi otimizada com presets de ganho + mapeamento do visor</p>
        <div class="car-badge">üöó VW Up! TSI 2017 ‚Äî Cabine ~2.6 m¬≥</div>
        <div class="version">V4.1 ‚Äî Presets Calibrados (raz√£o 78:65) ‚Ä¢ Visor 0-30 ‚Ä¢ RCA 5V ‚Ä¢ Decomposi√ß√£o</div>
    </div>
    <div class="container">

        <!-- Equipment Overview -->
        <div class="card" style="margin-bottom:16px">
            <h2><span class="icon">üìã</span> Equipamentos Instalados</h2>
            <table>
                <tr>
                    <th>Componente</th>
                    <th>Modelo</th>
                    <th>Pot√™ncia RMS</th>
                    <th>Imped√¢ncia</th>
                    <th>Sensibilidade</th>
                    <th>Faixa</th>
                </tr>
                <tr>
                    <td>M√≥dulo</td>
                    <td>SoundDigital 800.4 EVO6</td>
                    <td>4√ó132W@4Œ© / Bridge 2√ó400W@4Œ©</td>
                    <td>‚Äî</td>
                    <td>SNR 93dB</td>
                    <td>5Hz‚Äì20kHz</td>
                </tr>
                <tr>
                    <td>Kit 2 Vias (por porta)</td>
                    <td>Hertz DSK 165.3 + Crossover passivo</td>
                    <td>80W/lado</td>
                    <td>4Œ©</td>
                    <td>93 dB</td>
                    <td>50Hz‚Äì23kHz</td>
                </tr>
                <tr>
                    <td>Subwoofer (caixa dutada)</td>
                    <td>Hertz ES 200.5</td>
                    <td>200W</td>
                    <td>4Œ©</td>
                    <td>87 dB</td>
                    <td>30Hz‚Äì400Hz</td>
                </tr>
                <tr>
                    <td>Tratamento</td>
                    <td>Manta viscoel√°stica (portas)</td>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td>Absor√ß√£o resson√¢ncia</td>
                </tr>
                <tr>
                    <td>Conversor RCA</td>
                    <td>Hi-Lo Converter</td>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td>5V RMS</td>
                    <td>Sinal de refer√™ncia amplificado</td>
                </tr>
            </table>
        </div>

        <!-- Gain Controls + SPL -->
        <div class="grid2">
            <div class="card">
                <h2><span class="icon">üéõÔ∏è</span> Controle de Ganho ‚Äî M√≥dulo SD 800.4</h2>
                <!-- V4: Preset Tabs -->
                <div class="preset-tabs">
                    <button class="preset-btn" onclick="setPreset('max')" id="presetMax"><span
                            class="emoji">üî•</span>M√°ximo c/ Qualidade</button>
                    <button class="preset-btn active" onclick="setPreset('potente')" id="presetPotente"><span
                            class="emoji">üí™</span>Potente</button>
                    <button class="preset-btn" onclick="setPreset('media')" id="presetMedia"><span
                            class="emoji">üéµ</span>M√©dia</button>
                    <button class="preset-btn" onclick="setPreset('natural')" id="presetNatural"><span
                            class="emoji">üåø</span>Volume Natural</button>
                </div>
                <div id="presetDesc"
                    style="font-size:11px;color:var(--text2);margin-bottom:10px;padding:6px 10px;background:var(--card2);border-radius:6px;border-left:3px solid var(--accent)">
                    üí™ Ganho moderado ‚Äî Mesma curva do M√°ximo, volume de estrada. ~121dB m√°x.
                </div>
                <div class="slider-group">
                    <label>Ganho Canais 1+2 (Frente ‚Äî Kit 2 Vias) <span id="gainFrontVal">40%</span></label>
                    <input type="range" id="gainFront" min="0" max="100" value="40" oninput="updateAll()">
                </div>
                <div class="slider-group">
                    <label>Ganho Canais 3+4 Bridge (Subwoofer) <span id="gainSubVal">33%</span></label>
                    <input type="range" id="gainSub" min="0" max="100" value="33" oninput="updateAll()">
                </div>
                <h3>Filtros do M√≥dulo</h3>
                <div class="slider-group">
                    <label>HPF Frente (Hz) <span id="hpfVal">80 Hz</span></label>
                    <input type="range" id="hpfFreq" min="50" max="150" value="80" step="5" oninput="updateAll()">
                </div>
                <div class="slider-group">
                    <label>LPF Sub (Hz) <span id="lpfVal">80 Hz</span></label>
                    <input type="range" id="lpfFreq" min="50" max="150" value="80" step="5" oninput="updateAll()">
                </div>
                <!-- V4: Volume slider = visor 0-30 -->
                <div class="slider-group">
                    <label>üîä Volume do Visor (Up! TSI)
                        <span><span class="visor-display" id="visorDisplay">20</span></span>
                    </label>
                    <input type="range" id="volSource" min="0" max="30" value="20" oninput="updateAll()">
                </div>
                <div class="tip"><strong>Curva calibrada:</strong> Todos os presets mant√™m a mesma raz√£o front/sub
                    (78:65 = 0.833),
                    garantindo a mesma personalidade sonora em qualquer n√≠vel de volume.</div>
            </div>
            <div class="card">
                <h2><span class="icon">üìä</span> SPL Estimado ‚Äî Banco do Motorista</h2>
                <div class="stat-grid">
                    <div class="stat">
                        <div class="val" id="splFront">‚Äî</div>
                        <div class="lbl">Frente (Kit 2V)</div>
                    </div>
                    <div class="stat">
                        <div class="val" id="splSub">‚Äî</div>
                        <div class="lbl">Subwoofer</div>
                    </div>
                    <div class="stat">
                        <div class="val" id="splTotal">‚Äî</div>
                        <div class="lbl">Sistema Total</div>
                    </div>
                    <div class="stat">
                        <div class="val" id="splPeak">‚Äî</div>
                        <div class="lbl">Pico Estimado</div>
                    </div>
                    <div class="stat">
                        <div class="val" id="pwrFront">‚Äî</div>
                        <div class="lbl">Pot√™ncia Frente</div>
                    </div>
                    <div class="stat">
                        <div class="val" id="pwrSub">‚Äî</div>
                        <div class="lbl">Pot√™ncia Sub</div>
                    </div>
                </div>
                <div class="tip warn" style="margin-top:14px"><strong>‚ö†Ô∏è Aten√ß√£o:</strong> O sub Hertz ES 200.5 suporta
                    apenas 200W RMS. Com o bridge entregando at√© 400W, <u>nunca passe de ~75% do ganho</u> nesse canal
                    para evitar danos.</div>
                <h3>Canaliza√ß√£o</h3>
                <div class="config-summary">
                    <div class="config-item">
                        <div class="title">Canal 1</div>
                        <div class="value">Porta Esquerda</div>
                        <div class="detail">Kit 2 Vias Hertz + Crossover passivo</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Canal 2</div>
                        <div class="value">Porta Direita</div>
                        <div class="detail">Kit 2 Vias Hertz + Crossover passivo</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Canal 3+4</div>
                        <div class="value">Bridge ‚Üí Sub</div>
                        <div class="detail">Hertz ES 200.5 ‚Äî Caixa dutada MDF</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Filtros</div>
                        <div class="value">HPF 80Hz / LPF 80Hz</div>
                        <div class="detail">12dB/oitava no m√≥dulo</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Individual Curves -->
        <div class="card" style="margin-bottom:16px">
            <h2><span class="icon">üìà</span> Curvas de Frequ√™ncia Individuais dos Componentes</h2>
            <div class="legend-custom">
                <div class="item">
                    <div class="dot" style="background:#a29bfe"></div> Kit 2 Vias (com crossover passivo)
                </div>
                <div class="item">
                    <div class="dot" style="background:#fd79a8"></div> Mid-Bass (via crossover)
                </div>
                <div class="item">
                    <div class="dot" style="background:#81ecec"></div> Tweeter (via crossover)
                </div>
                <div class="item">
                    <div class="dot" style="background:#e17055"></div> Subwoofer (caixa dutada)
                </div>
            </div>
            <div class="chart-wrap tall"><canvas id="chartIndividual"></canvas></div>
        </div>

        <!-- Combined System Response -->
        <div class="card" style="margin-bottom:16px">
            <h2><span class="icon">üéØ</span> Resposta Combinada do Sistema ‚Äî Banco do Motorista</h2>
            <div class="legend-custom">
                <div class="item">
                    <div class="dot" style="background:#6c5ce7"></div> Resposta Total Estimada
                </div>
                <div class="item">
                    <div class="dot" style="background:rgba(249,202,36,.5)"></div> Curva-Alvo Hi-Fi (Harman)
                </div>
                <div class="item">
                    <div class="dot" style="background:rgba(0,184,148,.3)"></div> Zona Ideal ¬±3dB
                </div>
            </div>
            <div class="chart-wrap tall"><canvas id="chartCombined"></canvas></div>
            <div class="tip"><strong>Interpreta√ß√£o:</strong> A curva roxa √© a resposta estimada no banco do motorista. A
                curva dourada √© a refer√™ncia Hi-Fi (Harman target + bass shelf moderado ~+6dB). Todos os presets
                mant√™m esta mesma forma ‚Äî s√≥ muda o volume.</div>
        </div>

        <!-- Decomposition Chart -->
        <div class="card" style="margin-bottom:16px">
            <h2><span class="icon">üî¨</span> Decomposi√ß√£o da Resposta ‚Äî Contribui√ß√£o por Driver</h2>
            <div class="legend-custom">
                <div class="item">
                    <div class="dot" style="background:#6c5ce7"></div> Resposta Combinada
                </div>
                <div class="item">
                    <div class="dot" style="background:#e17055"></div> Subwoofer (processado)
                </div>
                <div class="item">
                    <div class="dot" style="background:#fd79a8"></div> Mid-Bass (processado)
                </div>
                <div class="item">
                    <div class="dot" style="background:#81ecec"></div> Tweeter (processado)
                </div>
                <div class="item">
                    <div class="dot" style="background:rgba(249,202,36,.5)"></div> Curva-Alvo Hi-Fi
                </div>
            </div>
            <div class="chart-wrap tall"><canvas id="chartDecomp"></canvas></div>
            <div class="tip"><strong>Como ler:</strong> Cada curva mostra a contribui√ß√£o individual de cada driver J√Å
                COM todos os processamentos (filtros, ganho, cabin gain). A curva roxa √© a soma ac√∫stica de todos.</div>
        </div>

        <!-- Filters Chart -->
        <div class="card" style="margin-bottom:16px">
            <h2><span class="icon">üîÄ</span> Ponto de Crossover e Filtros Ativos</h2>
            <div class="legend-custom">
                <div class="item">
                    <div class="dot" style="background:#00b894"></div> HPF Frente
                </div>
                <div class="item">
                    <div class="dot" style="background:#e17055"></div> LPF Sub
                </div>
                <div class="item">
                    <div class="dot" style="background:#fdcb6e"></div> Crossover Passivo 3.5kHz
                </div>
            </div>
            <div class="chart-wrap"><canvas id="chartFilters"></canvas></div>
        </div>

        <!-- EQ 3 Bandas + Config -->
        <div class="grid2">
            <div class="card">
                <h2><span class="icon">üéöÔ∏è</span> EQ Recomendado ‚Äî R√°dio Original VW Up! (3 Bandas)</h2>
                <p style="font-size:12px;color:var(--text2);margin-bottom:6px">O r√°dio original do Up! TSI 2017 possui
                    apenas <strong style="color:var(--accent2)">3 bandas de equaliza√ß√£o: Bass, Mid e Treble</strong>.
                    Ajuste otimizado para preservar a curva modelada.</p>
                <div class="eq-3band">
                    <div class="eq-knob">
                        <div class="band-name">üîà BASS</div>
                        <div class="band-range">Regi√£o: ~60‚Äì250 Hz</div>
                        <div class="band-value">0</div>
                        <div class="band-reason">Preservar a curva de grave modelada. Sub + cabin gain j√° produzem o
                            <strong style="color:var(--green)">equil√≠brio correto</strong> da curva desejada.
                        </div>
                    </div>
                    <div class="eq-knob">
                        <div class="band-name">üéôÔ∏è MID</div>
                        <div class="band-range">Regi√£o: ~500‚Äì2000 Hz</div>
                        <div class="band-value">+1</div>
                        <div class="band-reason">Compensa <strong style="color:var(--cyan)">dip inerente
                                200-500Hz</strong>
                            do mid-bass em porta. Mais presen√ßa e clareza.</div>
                    </div>
                    <div class="eq-knob">
                        <div class="band-name">‚ú® TREBLE</div>
                        <div class="band-range">Regi√£o: ~4000‚Äì16000 Hz</div>
                        <div class="band-value">0</div>
                        <div class="band-reason">O tweeter PEI do Hertz j√° tem <strong style="color:var(--green)">√≥tima
                                extens√£o natural</strong>. Flat evita fadiga.</div>
                    </div>
                </div>
                <div class="tip"><strong>Importante:</strong> Deixe <strong>Loudness e Bass Boost DESLIGADOS</strong> no
                    r√°dio.
                    Para o preset Volume Natural, experimente <strong style="color:var(--orange)">Bass +1</strong> se
                    sentir
                    falta de corpo em volumes baixos (compensa√ß√£o Fletcher-Munson).</div>
            </div>
            <div class="card">
                <h2><span class="icon">‚úÖ</span> Configura√ß√£o Final Recomendada</h2>
                <div class="config-summary">
                    <div class="config-item">
                        <div class="title">Ganho Frente (Ch 1+2)</div>
                        <div class="value" id="cfgGainF">40%</div>
                        <div class="detail" id="cfgPwrF">‚âà 21W por canal</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Ganho Sub (Ch 3+4 Bridge)</div>
                        <div class="value" id="cfgGainS">33%</div>
                        <div class="detail" id="cfgPwrS">‚âà 44W bridge</div>
                    </div>
                    <div class="config-item">
                        <div class="title">HPF Frente</div>
                        <div class="value" id="cfgHPF">80 Hz</div>
                        <div class="detail">12dB/oitava ‚Äî Ligado</div>
                    </div>
                    <div class="config-item">
                        <div class="title">LPF Sub</div>
                        <div class="value" id="cfgLPF">80 Hz</div>
                        <div class="detail">12dB/oitava ‚Äî Ligado</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Volume Visor</div>
                        <div class="value" id="cfgVol">20</div>
                        <div class="detail">N√∫mero no visor da m√≠dia</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Preset Ativo</div>
                        <div class="value" id="cfgPreset">üí™ Potente</div>
                        <div class="detail">Raz√£o 78:65 preservada</div>
                    </div>
                    <div class="config-item">
                        <div class="title">Crossover Passivo</div>
                        <div class="value">3.5 kHz</div>
                        <div class="detail">12dB/oct ‚Äî Kit Hertz</div>
                    </div>
                    <div class="config-item">
                        <div class="title">RCA Converter</div>
                        <div class="value">5V RMS</div>
                        <div class="detail">+8dB headroom</div>
                    </div>
                </div>
                <h3 style="margin-top:16px">Checklist de Instala√ß√£o</h3>
                <table>
                    <tr>
                        <td>‚úÖ</td>
                        <td>Manta ac√∫stica nas portas dianteiras</td>
                        <td class="badge on">Essencial</td>
                    </tr>
                    <tr>
                        <td>‚úÖ</td>
                        <td>Crossover passivo Hertz entre m√≥dulo e falantes</td>
                        <td class="badge on">Usar o do kit</td>
                    </tr>
                    <tr>
                        <td>‚úÖ</td>
                        <td>Cabo de alimenta√ß√£o 7 AWG (10mm¬≤)</td>
                        <td class="badge on">Obrigat√≥rio</td>
                    </tr>
                    <tr>
                        <td>‚úÖ</td>
                        <td>Fus√≠vel 40A perto da bateria</td>
                        <td class="badge on">Seguran√ßa</td>
                    </tr>
                    <tr>
                        <td>‚úÖ</td>
                        <td>Aterramento curto e s√≥lido</td>
                        <td class="badge on">Performance</td>
                    </tr>
                    <tr>
                        <td>‚ö†Ô∏è</td>
                        <td>Cabos RCA blindados</td>
                        <td class="badge on">Recomendado</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Analysis Text -->
        <div class="card" style="margin-top:16px">
            <h2><span class="icon">üß†</span> An√°lise T√©cnica Detalhada</h2>
            <div
                style="display:grid;grid-template-columns:1fr 1fr;gap:16px;font-size:12px;line-height:1.7;color:var(--text2)">
                <div>
                    <h3>Integra√ß√£o Sub + Kit 2 Vias</h3>
                    <p>O ponto de crossover em <strong style="color:var(--green)">80 Hz</strong> √© ideal: HPF protege o
                        mid-bass e reduz distor√ß√£o. Sub cobre 30‚Äì80Hz com sobra.</p>
                    <h3 style="margin-top:14px">Raz√£o de Ganho Calibrada (78:65)</h3>
                    <p>Todos os presets mant√™m a raz√£o <strong style="color:var(--gold)">Sub = Front √ó 0.833</strong>.
                        Isso preserva o equil√≠brio entre grave/m√©dio/agudo ‚Äî a curva fica id√™ntica, apenas o volume
                        muda.</p>
                    <h3 style="margin-top:14px">Cabin Gain</h3>
                    <p>A cabine do Up! (~2.6m¬≥) gera <strong style="color:var(--cyan)">cabin gain de +6 a +10dB</strong>
                        abaixo de 60Hz.</p>
                </div>
                <div>
                    <h3>Zona de M√©dios (200‚Äì550Hz)</h3>
                    <p>Leve depress√£o √© <strong style="color:var(--orange)">caracter√≠stica inerente</strong> a mid-bass
                        6.5" em porta. A manta reduz de -4dB para -1.5dB.</p>
                    <h3 style="margin-top:14px">EQ Bass = 0 (Flat)</h3>
                    <p>O modelo prediz a resposta SEM EQ do r√°dio. <strong style="color:var(--green)">Bass flat</strong>
                        preserva a curva modelada no mundo real. Reduzir o Bass tiraria grave que a curva desejada
                        inclui.</p>
                    <h3 style="margin-top:14px">Seu Perfil Sonoro</h3>
                    <p>Curva-alvo: <strong style="color:var(--gold)">Harman Target</strong> com <strong
                            style="color:var(--pink)">bass shelf +3dB</strong> ‚Äî grave presente, musical e empolgante
                        sem mascarar detalhes.</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Volume Sensation -->
    <div class="container">
        <div class="card" style="margin-top:16px">
            <h2><span class="icon">üéß</span> SPL por N√≠vel do Visor ‚Äî VW Up! TSI + RCA 5V</h2>
            <div style="font-size:12px;line-height:1.7;color:var(--text2)">
                <p style="margin-bottom:10px">Conversor RCA: <strong style="color:var(--cyan)">5V RMS</strong>
                    = <strong style="color:var(--green)">+8dB de headroom</strong> vs head unit padr√£o 2V.
                    O visor do Up! TSI vai de 0 a 30 com curva de pot√™ncia n√£o-linear.</p>
                <table id="volSensationTable">
                    <tr>
                        <th>Visor</th>
                        <th>Pot%</th>
                        <th>SPL Sistema</th>
                        <th>W Frente</th>
                        <th>W Sub</th>
                        <th>Sensa√ß√£o</th>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
        function genFreqs() { const f = []; for (let i = Math.log10(20); i <= Math.log10(20000); i += 0.02)f.push(Math.pow(10, i)); return f }
        const freqs = genFreqs();

        // RCA Converter: 5V output (vs typical 2V)
        const vRCA = 5.0, vRef = 2.0;
        const rcaBoostDB = 20 * Math.log10(vRCA / vRef); // ~+7.96 dB

        // V4.1: Presets calibrados ‚Äî MESMA RAZ√ÉO front/sub (78:65 = 0.833)
        const presets = {
            max: { gF: 78, gS: 65, emoji: 'üî•', name: 'M√°ximo c/ Qualidade', desc: 'üî• Performance m√°xima ‚Äî Curva de refer√™ncia. ~126dB m√°x. Raz√£o 78:65.' },
            potente: { gF: 40, gS: 33, emoji: 'üí™', name: 'Potente', desc: 'üí™ Ganho moderado ‚Äî Mesma curva do M√°ximo, volume de estrada. ~121dB m√°x.' },
            media: { gF: 30, gS: 25, emoji: 'üéµ', name: 'M√©dia', desc: 'üéµ Confort√°vel ‚Äî Mesma curva, dia a dia tranquilo. ~119dB m√°x.' },
            natural: { gF: 15, gS: 13, emoji: 'üåø', name: 'Volume Natural', desc: 'üåø Volume original amplificado ‚Äî Mesma curva, ~113dB m√°x. EQ Bass +1 opcional.' }
        };
        let activePreset = 'potente';

        function setPreset(id) {
            const p = presets[id];
            document.getElementById('gainFront').value = p.gF;
            document.getElementById('gainSub').value = p.gS;
            activePreset = id;
            document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('preset' + id.charAt(0).toUpperCase() + id.slice(1)).classList.add('active');
            document.getElementById('presetDesc').innerHTML = p.desc;
            document.getElementById('cfgPreset').textContent = p.emoji + ' ' + p.name;
            updateAll();
        }

        // V4: VW Up! TSI display number ‚Üí power factor mapping
        function displayToPower(d) {
            const pts = [[0, 0], [5, 0.03], [10, 0.09], [15, 0.22], [20, 0.50], [25, 0.77], [27, 0.80], [30, 1.00]];
            if (d <= 0) return 0.0001;
            if (d >= 30) return 1.0;
            for (let i = 0; i < pts.length - 1; i++) {
                if (d >= pts[i][0] && d <= pts[i + 1][0]) {
                    const [d0, p0] = pts[i], [d1, p1] = pts[i + 1];
                    return Math.max(0.0001, p0 + (p1 - p0) * (d - d0) / (d1 - d0));
                }
            }
            return 1.0;
        }

        function hpf12(f, fc) { const r = fc / f; return -10 * Math.log10(1 + Math.pow(r, 4)) }
        function lpf12(f, fc) { const r = f / fc; return -10 * Math.log10(1 + Math.pow(r, 4)) }

        function subResponse(f) {
            if (f < 20) return -40;
            const ft = 50;
            const peak = 2.2 * Math.exp(-Math.pow((f - ft) / 18, 2));
            const loRoll = f < ft ? -15 * Math.log10(ft / f) : 0;
            const hiRoll = f > 200 ? -12 * Math.log10(f / 200) : 0;
            return Math.max(peak + loRoll + hiRoll, -40);
        }

        function midBassResponse(f) {
            if (f < 30) return -40;
            let spl = 0;
            if (f < 50) spl = -12 * Math.log10(50 / f);
            spl += 2 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(120)) / 0.3, 2));
            spl -= 1.0 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(450)) / 0.22, 2));
            spl += 1 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(2500)) / 0.15, 2));
            spl += lpf12(f, 3500);
            return Math.max(spl, -40);
        }

        function tweeterResponse(f) {
            if (f < 1000) return -40;
            let spl = hpf12(f, 3500);
            spl += 2 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(6000)) / 0.2, 2));
            if (f > 18000) spl -= 12 * Math.log10(f / 18000);
            spl += 1 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(10000)) / 0.25, 2));
            return Math.max(spl, -40);
        }

        function cabinTF(f) {
            let gain = 0;
            if (f < 200) gain += 7 * Math.pow(Math.max(0, (200 - f) / 200), 1.3);
            gain += 1.2 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(65)) / 0.1, 2));
            gain += 0.8 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(130)) / 0.08, 2));
            gain -= 1.5 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(250)) / 0.12, 2));
            gain += 0.6 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(180)) / 0.1, 2));
            if (f > 5000) gain -= 2 * Math.log10(f / 5000);
            return gain;
        }

        function harmanTarget(f) {
            let t = 0;
            if (f < 200) t = 6 * Math.pow(Math.max(0, (200 - f) / 200), 0.6);
            if (f > 1000) t -= 0.5 * Math.log2(f / 1000);
            t += 1 * Math.exp(-Math.pow((Math.log10(f) - Math.log10(3000)) / 0.2, 2));
            return t;
        }

        let chartIndividual, chartCombined, chartDecomp, chartFilters;

        function initCharts() {
            const commonOpts = {
                responsive: true, maintainAspectRatio: false,
                scales: {
                    x: {
                        type: 'logarithmic', min: 20, max: 20000, title: { display: true, text: 'Frequ√™ncia (Hz)', color: '#a0a0b0', font: { size: 11 } },
                        ticks: {
                            color: '#a0a0b0', font: { size: 9 }, callback: function (v) {
                                const nice = [20, 30, 50, 80, 100, 200, 500, 1000, 2000, 5000, 10000, 20000];
                                if (nice.includes(Math.round(v))) return v < 1000 ? v + 'Hz' : (v / 1000) + 'kHz'; return ''
                            }
                        }, grid: { color: 'rgba(42,42,58,.5)' }
                    },
                    y: { min: -30, max: 15, title: { display: true, text: 'SPL Relativo (dB)', color: '#a0a0b0', font: { size: 11 } }, ticks: { color: '#a0a0b0', font: { size: 9 } }, grid: { color: 'rgba(42,42,58,.3)' } }
                },
                plugins: {
                    legend: { display: false }, tooltip: {
                        mode: 'index', intersect: false, callbacks: {
                            title: function (items) { const f = items[0].parsed.x; return f < 1000 ? Math.round(f) + ' Hz' : (f / 1000).toFixed(1) + ' kHz' },
                            label: function (ctx) { return ctx.dataset.label + ': ' + ctx.parsed.y.toFixed(1) + ' dB' }
                        }
                    }
                },
                interaction: { mode: 'nearest', axis: 'x', intersect: false },
                elements: { point: { radius: 0 }, line: { tension: 0.3 } }
            };

            chartIndividual = new Chart(document.getElementById('chartIndividual'), {
                type: 'line', data: {
                    labels: freqs, datasets: [
                        { label: 'Kit 2 Vias', data: [], borderColor: '#a29bfe', backgroundColor: 'rgba(162,155,254,.1)', borderWidth: 2.5, fill: true },
                        { label: 'Mid-Bass', data: [], borderColor: '#fd79a8', borderWidth: 1.5, borderDash: [5, 3] },
                        { label: 'Tweeter', data: [], borderColor: '#81ecec', borderWidth: 1.5, borderDash: [5, 3] },
                        { label: 'Subwoofer', data: [], borderColor: '#e17055', backgroundColor: 'rgba(225,112,85,.1)', borderWidth: 2.5, fill: true }
                    ]
                }, options: { ...commonOpts }
            });

            const cOpts = JSON.parse(JSON.stringify(commonOpts));
            cOpts.scales.y.min = -20; cOpts.scales.y.max = 20;
            chartCombined = new Chart(document.getElementById('chartCombined'), {
                type: 'line', data: {
                    labels: freqs, datasets: [
                        { label: 'Resposta Total', data: [], borderColor: '#6c5ce7', backgroundColor: 'rgba(108,92,231,.15)', borderWidth: 3, fill: true },
                        { label: 'Curva-Alvo Hi-Fi', data: [], borderColor: 'rgba(249,202,36,.7)', borderWidth: 2, borderDash: [8, 4] },
                        { label: '+3dB', data: [], borderColor: 'rgba(0,184,148,.2)', backgroundColor: 'rgba(0,184,148,.05)', borderWidth: 1, fill: '+1' },
                        { label: '-3dB', data: [], borderColor: 'rgba(0,184,148,.2)', borderWidth: 1 }
                    ]
                }, options: cOpts
            });

            const dOpts = JSON.parse(JSON.stringify(commonOpts));
            dOpts.scales.y.min = -20; dOpts.scales.y.max = 20;
            chartDecomp = new Chart(document.getElementById('chartDecomp'), {
                type: 'line', data: {
                    labels: freqs, datasets: [
                        { label: 'Resposta Combinada', data: [], borderColor: '#6c5ce7', backgroundColor: 'rgba(108,92,231,.10)', borderWidth: 3, fill: true },
                        { label: 'Subwoofer', data: [], borderColor: '#e17055', borderWidth: 2, backgroundColor: 'rgba(225,112,85,.06)', fill: true },
                        { label: 'Mid-Bass', data: [], borderColor: '#fd79a8', borderWidth: 2, backgroundColor: 'rgba(253,121,168,.06)', fill: true },
                        { label: 'Tweeter', data: [], borderColor: '#81ecec', borderWidth: 2, backgroundColor: 'rgba(129,236,236,.06)', fill: true },
                        { label: 'Curva-Alvo', data: [], borderColor: 'rgba(249,202,36,.5)', borderWidth: 2, borderDash: [8, 4] }
                    ]
                }, options: dOpts
            });

            const fOpts = JSON.parse(JSON.stringify(commonOpts));
            fOpts.scales.y.min = -35; fOpts.scales.y.max = 5;
            chartFilters = new Chart(document.getElementById('chartFilters'), {
                type: 'line', data: {
                    labels: freqs, datasets: [
                        { label: 'HPF Frente', data: [], borderColor: '#00b894', borderWidth: 2.5 },
                        { label: 'LPF Sub', data: [], borderColor: '#e17055', borderWidth: 2.5 },
                        { label: 'XO Passivo LP', data: [], borderColor: '#fdcb6e', borderWidth: 1.5, borderDash: [5, 3] },
                        { label: 'XO Passivo HP', data: [], borderColor: '#81ecec', borderWidth: 1.5, borderDash: [5, 3] }
                    ]
                }, options: fOpts
            });
            updateAll();
        }

        function calcSPLat(gF, gS, volFactor) {
            const pwrF = 132 * Math.pow(gF / 100, 2);
            const pwrS = 400 * Math.pow(gS / 100, 2);
            const splF = 93 + 10 * Math.log10(Math.max(0.001, pwrF * volFactor)) + rcaBoostDB;
            const splS = 87 + 10 * Math.log10(Math.max(0.001, pwrS * volFactor)) + rcaBoostDB;
            const sFB = splF + 3, sCab = splS + 8;
            const sSys = 10 * Math.log10(Math.pow(10, sFB / 10) + Math.pow(10, sCab / 10));
            return { splF: sFB, splS: sCab, splSys: sSys, pwrF: pwrF * volFactor, pwrS: pwrS * volFactor };
        }

        function updateVolSensationTable(gF, gS) {
            const levels = [
                { d: 5, emoji: 'üîà', desc: 'Fundo musical leve' },
                { d: 8, emoji: 'üîà', desc: 'Som ambiente' },
                { d: 10, emoji: 'üîâ', desc: 'Conversa com m√∫sica' },
                { d: 12, emoji: 'üîâ', desc: 'Cruising confort√°vel' },
                { d: 15, emoji: 'üéµ', desc: 'Volume de estrada' },
                { d: 18, emoji: 'üéµ', desc: 'Animado, envolvente' },
                { d: 20, emoji: 'üéØ', desc: 'Dia a dia empolgado' },
                { d: 22, emoji: 'üîä', desc: 'Alto, graves marcantes' },
                { d: 25, emoji: 'üîä', desc: 'Muito alto, performance' },
                { d: 27, emoji: '‚ö†Ô∏è', desc: 'Limite limpo do r√°dio' },
                { d: 30, emoji: 'üö´', desc: 'M√°ximo ‚Äî clipping no r√°dio!' }
            ];
            let html = '<tr><th>Visor</th><th>Pot%</th><th>SPL Sistema</th><th>W Frente</th><th>W Sub</th><th>Sensa√ß√£o</th></tr>';
            levels.forEach(l => {
                const pf = displayToPower(l.d);
                const r = calcSPLat(gF, gS, pf);
                const isCurrent = l.d === 20 ? ' style="background:rgba(108,92,231,.1);font-weight:600"' : '';
                html += `<tr${isCurrent}><td>${l.emoji} ${l.d}</td><td>${(pf * 100).toFixed(0)}%</td><td>${r.splSys.toFixed(1)} dB</td><td>${r.pwrF.toFixed(1)}W</td><td>${r.pwrS.toFixed(1)}W</td><td style="font-size:11px">${l.desc}</td></tr>`;
            });
            document.getElementById('volSensationTable').innerHTML = html;
        }

        function updateAll() {
            const gF = parseInt(document.getElementById('gainFront').value);
            const gS = parseInt(document.getElementById('gainSub').value);
            const hpf = parseInt(document.getElementById('hpfFreq').value);
            const lpf = parseInt(document.getElementById('lpfFreq').value);
            const visor = parseInt(document.getElementById('volSource').value);
            const volFactor = displayToPower(visor);

            document.getElementById('gainFrontVal').textContent = gF + '%';
            document.getElementById('gainSubVal').textContent = gS + '%';
            document.getElementById('hpfVal').textContent = hpf + ' Hz';
            document.getElementById('lpfVal').textContent = lpf + ' Hz';
            document.getElementById('visorDisplay').textContent = visor;

            const pwrF = 132 * Math.pow(gF / 100, 2);
            const pwrS = 400 * Math.pow(gS / 100, 2);

            const splF = 93 + 10 * Math.log10(Math.max(0.001, pwrF * volFactor)) + rcaBoostDB;
            const splS = 87 + 10 * Math.log10(Math.max(0.001, pwrS * volFactor)) + rcaBoostDB;
            const splSCabin = splS + 8;
            const splFBoth = splF + 3;
            const splSys = 10 * Math.log10(Math.pow(10, splFBoth / 10) + Math.pow(10, splSCabin / 10));

            document.getElementById('splFront').textContent = splFBoth.toFixed(1) + ' dB';
            document.getElementById('splSub').textContent = splSCabin.toFixed(1) + ' dB';
            document.getElementById('splTotal').textContent = splSys.toFixed(1) + ' dB';
            document.getElementById('splPeak').textContent = (splSys + 3).toFixed(1) + ' dB';
            document.getElementById('pwrFront').textContent = (pwrF * volFactor).toFixed(0) + 'W/ch';
            document.getElementById('pwrSub').textContent = (pwrS * volFactor).toFixed(0) + 'W brg';

            document.getElementById('cfgGainF').textContent = gF + '%';
            document.getElementById('cfgGainS').textContent = gS + '%';
            document.getElementById('cfgHPF').textContent = hpf + ' Hz';
            document.getElementById('cfgLPF').textContent = lpf + ' Hz';
            document.getElementById('cfgVol').textContent = visor;
            document.getElementById('cfgPwrF').textContent = '‚âà ' + (pwrF * volFactor).toFixed(0) + 'W por canal';
            document.getElementById('cfgPwrS').textContent = '‚âà ' + (pwrS * volFactor).toFixed(0) + 'W bridge';

            const gainFdB = 20 * Math.log10(Math.max(0.01, gF / 100)) + 20 * Math.log10(Math.max(0.01, Math.sqrt(volFactor))) + rcaBoostDB;
            const gainSdB = 20 * Math.log10(Math.max(0.01, gS / 100)) + 20 * Math.log10(Math.max(0.01, Math.sqrt(volFactor))) + rcaBoostDB;

            // Individual curves (raw, no gain)
            const kitData = [], mbData = [], twData = [], subData = [];
            freqs.forEach(f => {
                const mb = midBassResponse(f) + hpf12(f, hpf);
                const tw = tweeterResponse(f) + hpf12(f, hpf);
                kitData.push({ x: f, y: 10 * Math.log10(Math.pow(10, mb / 10) + Math.pow(10, tw / 10)) });
                mbData.push({ x: f, y: mb }); twData.push({ x: f, y: tw });
                subData.push({ x: f, y: subResponse(f) + lpf12(f, lpf) });
            });
            chartIndividual.data.datasets[0].data = kitData;
            chartIndividual.data.datasets[1].data = mbData;
            chartIndividual.data.datasets[2].data = twData;
            chartIndividual.data.datasets[3].data = subData;
            chartIndividual.update('none');

            // Combined + decomposition
            const combinedData = [], targetData = [], upperData = [], lowerData = [];
            const decompSubData = [], decompMbData = [], decompTwData = [];
            freqs.forEach(f => {
                const mb = midBassResponse(f) + hpf12(f, hpf) + gainFdB;
                const tw = tweeterResponse(f) + hpf12(f, hpf) + gainFdB;
                const sub = subResponse(f) + lpf12(f, lpf) + gainSdB;
                const cabin = cabinTF(f);
                const totalDB = 10 * Math.log10(Math.max(1e-10, Math.pow(10, mb / 10) + Math.pow(10, tw / 10) + Math.pow(10, sub / 10))) + cabin;
                combinedData.push({ x: f, y: totalDB });
                decompSubData.push({ x: f, y: sub + cabin });
                decompMbData.push({ x: f, y: mb + cabin });
                decompTwData.push({ x: f, y: tw + cabin });
                const target = harmanTarget(f);
                targetData.push({ x: f, y: target });
                upperData.push({ x: f, y: target + 3 });
                lowerData.push({ x: f, y: target - 3 });
            });
            const ref1k = combinedData.find(d => d.x >= 1000);
            const offset = ref1k ? ref1k.y : 0;
            combinedData.forEach(d => d.y -= offset);
            decompSubData.forEach(d => d.y -= offset);
            decompMbData.forEach(d => d.y -= offset);
            decompTwData.forEach(d => d.y -= offset);

            chartCombined.data.datasets[0].data = combinedData;
            chartCombined.data.datasets[1].data = targetData;
            chartCombined.data.datasets[2].data = upperData;
            chartCombined.data.datasets[3].data = lowerData;
            chartCombined.update('none');

            chartDecomp.data.datasets[0].data = combinedData.map(d => ({ ...d }));
            chartDecomp.data.datasets[1].data = decompSubData;
            chartDecomp.data.datasets[2].data = decompMbData;
            chartDecomp.data.datasets[3].data = decompTwData;
            chartDecomp.data.datasets[4].data = targetData;
            chartDecomp.update('none');

            // Filters
            const hpfData = [], lpfData = [], xoLpf = [], xoHpf = [];
            freqs.forEach(f => {
                hpfData.push({ x: f, y: hpf12(f, hpf) });
                lpfData.push({ x: f, y: lpf12(f, lpf) });
                xoLpf.push({ x: f, y: lpf12(f, 3500) });
                xoHpf.push({ x: f, y: hpf12(f, 3500) });
            });
            chartFilters.data.datasets[0].data = hpfData;
            chartFilters.data.datasets[1].data = lpfData;
            chartFilters.data.datasets[2].data = xoLpf;
            chartFilters.data.datasets[3].data = xoHpf;
            chartFilters.update('none');

            updateVolSensationTable(gF, gS);
        }

        window.addEventListener('load', initCharts);
    </script>
</body>

</html>